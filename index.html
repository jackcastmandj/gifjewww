<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏° ‚ô•</title>
<style>
  :root{
    --bg:#0f1226;
    --panel:#11121a;
    --accent:#ff6b9a;
    --muted:#bfc4d6;
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Thai","Noto Sans",Helvetica,Arial;}
  body{
    background: radial-gradient(circle at 10% 10%, #16203b 0%, var(--bg) 35%), linear-gradient(180deg, rgba(255,255,255,0.02), transparent 30%);
    color:var(--muted);
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;
  }

  .card{
    width:min(880px,94vw);
    max-width:880px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    padding:28px;
    box-shadow:0 8px 30px rgba(2,6,23,0.6);
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:20px;
    align-items:center;
    position:relative;
  }

  .left{ padding:12px 8px; }
  h1{
    margin:0 0 8px 0;
    font-size:28px;
    color:#fff;
    letter-spacing:0.2px;
  }
  p.lead{
    margin:0 0 18px 0;
    color:var(--muted);
    line-height:1.5;
  }
  .buttons{
    display:flex;gap:14px;align-items:center;
    margin-top:6px;
  }
  .btn{
    padding:12px 20px;
    border-radius:12px;
    border:0;
    cursor:pointer;
    font-weight:600;
    font-size:16px;
    box-shadow: 0 6px 18px rgba(12,12,20,0.45);
    transition: transform .22s ease, box-shadow .22s ease;
  }
  .btn:active{ transform:translateY(2px) scale(.995); }
  .btn-yes{
    background:linear-gradient(90deg,#ff6584,#ff9ab0);
    color:white;
    transform-origin:center;
  }
  .btn-no{
    background:transparent;
    color:var(--muted);
    border:1px solid rgba(255,255,255,0.06);
    backdrop-filter: blur(4px);
  }

  .right{
    display:flex;flex-direction:column;align-items:center;gap:12px;padding:6px;
  }
  .flower{
    width:100%;
    max-width:320px;
    height:260px;
    border-radius:14px;
    overflow:hidden;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));
    display:flex;align-items:center;justify-content:center;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 12px 30px rgba(8,6,20,0.45);
  }
  .flower img{ width:100%; height:100%; object-fit:cover; display:block; }

  .credit{ font-size:12px; color:rgba(255,255,255,0.28); }

  .hearts{
    position:absolute; inset:0; pointer-events:none; overflow:hidden;
  }
  .heart{
    position:absolute;
    width:36px;height:36px;
    transform:translate(-50%,-50%) scale(1);
    opacity:0.95;
    will-change:transform,opacity;
    animation: floatUp linear forwards;
  }
  @keyframes floatUp{
    0%{ transform: translateY(0) scale(0.9) rotate(0deg); opacity:1; }
    100%{ transform: translateY(-140vh) scale(1.2) rotate(20deg); opacity:0; }
  }

  .overlay{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg, rgba(4,4,10,0.6), rgba(4,4,10,0.85));
    z-index:60; visibility:hidden; opacity:0; transition:opacity .28s ease, visibility .28s;
  }
  .overlay.show{ visibility:visible; opacity:1; }
  .modal{
    background:linear-gradient(180deg,#1c2032,#151726);
    padding:28px;border-radius:16px; text-align:center; color:#fff; width:min(560px,92vw);
    box-shadow:0 18px 60px rgba(2,6,23,0.7);
  }
  .modal h2{ margin:0 0 8px 0; font-size:26px; }
  .modal p{ color:var(--muted); margin:0 0 18px 0; line-height:1.5; }

  .audio-control{
    display:flex;gap:8px;align-items:center;margin-top:8px;
  }
  .small{
    font-size:13px; color:rgba(255,255,255,0.7);
  }

  @media (max-width:880px){
    .card{ grid-template-columns: 1fr; }
    .right{ order:-1; }
    .flower{ height:200px; }
  }
</style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="card" id="card">
    <div class="left">
      <h1>‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡∏°‡πà‡∏∞...? üíì</h1>
      <p class="lead">‡πÄ‡∏£‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏™‡∏±‡∏Å‡∏û‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ô‡∏≤‡∏∞ ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏ò‡∏≠ üôÇ<br>
      ‡πÄ‡∏•‡∏¢‡∏≠‡∏¢‡∏≤‡∏Å‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤...‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏Ç‡∏¢‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏≠‡∏µ‡∏Å‡∏™‡πÄ‡∏ï‡πá‡∏õ‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢?</p>

      <div class="buttons">
        <button class="btn btn-yes" id="yesBtn" aria-label="‡∏ï‡∏Å‡∏•‡∏á">‡∏ï‡∏Å‡∏•‡∏á üíñ</button>
        <button class="btn btn-no" id="noBtn" aria-label="‡πÑ‡∏°‡πà‡∏ï‡∏Å‡∏•‡∏á">‡πÑ‡∏°‡πà‡∏ï‡∏Å‡∏•‡∏á</button>
      </div>

      <div class="audio-control small" style="margin-top:14px;">
        <span id="musicStatus">‡πÄ‡∏û‡∏•‡∏á: ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï)</span>
        <button id="toggleMusic" class="btn" style="padding:8px 12px; font-size:13px; margin-left:10px;">‡∏´‡∏¢‡∏∏‡∏î/‡πÄ‡∏•‡πà‡∏ô</button>
      </div>
    </div>

    <div class="right">
      <div class="flower">
        <img src="img.jpg" alt="‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ (‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå img.jpeg)" id="flowerImg" onerror="this.style.filter='grayscale(30%)'; this.alt='‡∏£‡∏π‡∏õ‡πÑ‡∏°‡πà‡∏û‡∏ö ‚Äî ‡πÅ‡∏ó‡∏£‡∏Å‡∏£‡∏π‡∏õ‡∏ä‡∏∑‡πà‡∏≠ img.jpeg'">
      </div>
      <div class="credit">‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡πâ‡∏≤‡∏≤ üíå</div>
      <div style="height:6px"></div>
    </div>
  </div>

  <div class="overlay" id="overlay">
    <div class="modal" id="modal">
      <h2>‡∏≠‡πâ‡∏≤‡∏≤‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å ‡∏Ç‡∏≠‡∏¢‡∏≤‡∏î‡∏°‡∏∏‡∏î‡∏î‡∏¥‡∏ô‡∏ô‡∏ô‡∏ô ü•πüíï</h2>
      <p>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡∏£‡∏±‡∏ö ‚Äî ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡∏•‡∏∞‡∏ô‡πâ‡∏≤‡∏≤ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡∏ù‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ù‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏¢ üíï‚ú®</p>
      <button id="closeModal" class="btn btn-yes">‡πÄ‡∏¢‡πâ! üéâ</button>
    </div>
  </div>

  <!-- ‚úÖ ‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏ö‡∏ö mp3 -->
  <audio id="bgMusic" src="music.mp3" loop autoplay></audio>

<script>
  // --- hearts ---
  const heartsContainer = document.getElementById('hearts');
  const heartSVG = encodeURIComponent(`
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>
      <path fill='%23ff6b9a' d='M12 21s-7.2-4.9-9.2-8.1C.9 9.7 4.1 4 8.3 4c2.1 0 3.7 1.1 3.7 1.1S14.6 4 16.7 4C20.9 4 24.1 9.7 21.2 12.9 19.2 16.1 12 21 12 21z'/>
    </svg>`);

  function spawnHeart() {
    const el = document.createElement('div');
    el.className = 'heart';
    const size = Math.random() * 36 + 18;
    el.style.width = `${size}px`;
    el.style.height = `${size}px`;
    const startX = Math.random() * 100;
    el.style.left = startX + 'vw';
    el.style.bottom = (-10 - Math.random()*6) + 'vh';
    const img = new Image();
    img.src = 'data:image/svg+xml;utf8,' + heartSVG;
    img.style.width = '100%';
    img.style.height = '100%';
    img.style.display = 'block';
    img.style.filter = `drop-shadow(0 8px 14px rgba(0,0,0,0.35))`;
    el.appendChild(img);
    const duration = Math.random() * 6 + 6;
    el.style.animationDuration = duration + 's';
    heartsContainer.appendChild(el);
    setTimeout(()=> el.remove(), (duration + 0.5) * 1000);
  }
  let heartTimer = setInterval(spawnHeart, 900);
  for (let i=0;i<6;i++) setTimeout(spawnHeart, i*150);

  // --- buttons ---
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const overlay = document.getElementById('overlay');
  const closeModal = document.getElementById('closeModal');

  yesBtn.addEventListener('click', async (e) => {
    startMusic(); // ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á
    yesBtn.style.transition = 'transform .36s cubic-bezier(.2,.9,.3,1), box-shadow .36s';
    yesBtn.style.transform = 'scale(1.45) translateY(-6px)';
    yesBtn.style.boxShadow = '0 20px 40px rgba(255,102,140,0.28)';
    for (let i=0;i<18;i++){ setTimeout(spawnHeart, i*60); }
    setTimeout(()=> {
      overlay.classList.add('show');
      const modal = document.getElementById('modal');
      modal.animate([{ transform:'scale(.96)' }, { transform:'scale(1)' }], { duration:360, easing:'cubic-bezier(.2,.9,.3,1)' });
    }, 520);
  });

  closeModal.addEventListener('click', () => {
    overlay.classList.remove('show');
    yesBtn.style.transform = '';
    yesBtn.style.boxShadow = '';
  });

  // --- no button warp ---
  noBtn.addEventListener('click', async (e) => {
    startMusic(); // ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á
    noBtn.animate([{ transform:'translateX(0)' }, { transform:'translateX(-12px)' }, { transform:'translateX(12px)' }, { transform:'translateX(0)' }], { duration:280, easing:'ease-out' });
    const card = document.getElementById('card');
    const cardRect = card.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();
    const maxAttempts = 4;
    for (let i=0;i<maxAttempts;i++){
      await new Promise(r => setTimeout(r, 220 + Math.random()*180));
      const offsetX = Math.random() * (cardRect.width - btnRect.width - 20);
      const offsetY = Math.random() * (cardRect.height - btnRect.height - 20);
      noBtn.style.position = 'absolute';
      noBtn.style.left = `${offsetX + 12}px`;
      noBtn.style.top = `${offsetY + 12}px`;
      noBtn.style.transition = 'left .28s cubic-bezier(.2,.9,.3,1), top .28s cubic-bezier(.2,.9,.3,1)';
      noBtn.style.transform = `scale(${0.92 + Math.random()*0.18})`;
    }
    await new Promise(r => setTimeout(r, 280));
    noBtn.style.opacity = '0';
    noBtn.style.transition = 'opacity .24s';
    setTimeout(()=> {
      noBtn.style.opacity = '';
      noBtn.style.position = '';
      noBtn.style.left = '';
      noBtn.style.top = '';
      noBtn.style.transform = '';
    }, 680);
  });

  // --- üéµ music control (MP3) ---
  const music = document.getElementById('bgMusic');
  const toggleMusic = document.getElementById('toggleMusic');
  const musicStatus = document.getElementById('musicStatus');

  // ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
  let musicStarted = false;
  function startMusic() {
    if (!musicStarted) {
      music.play().then(() => {
        musicStatus.textContent = '‡πÄ‡∏û‡∏•‡∏á: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô';
        musicStarted = true;
      }).catch(() => {
        musicStatus.textContent = '‡πÄ‡∏û‡∏•‡∏á: ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô';
      });
    }
  }

  // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
  document.addEventListener('DOMContentLoaded', startMusic);
  setTimeout(startMusic, 100);

  // ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡πÉ‡∏î‡πÜ
  document.body.addEventListener('click', startMusic, { once: true });
  document.body.addEventListener('touchstart', startMusic, { once: true });

  let musicPlaying = true;
  toggleMusic.addEventListener('click', () => {
    startMusic(); // ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πà‡∏≠‡∏ô
    if (music.paused) {
      music.play();
      musicStatus.textContent = '‡πÄ‡∏û‡∏•‡∏á: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô';
      musicPlaying = true;
    } else {
      music.pause();
      musicStatus.textContent = '‡πÄ‡∏û‡∏•‡∏á: ‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß';
      musicPlaying = false;
    }
  });

  const obs = new MutationObserver(() => {
    if (overlay.classList.contains('show')) {
      clearInterval(heartTimer);
    }
  });
  obs.observe(overlay, { attributes:true });

  window.addEventListener('resize', ()=> {
    if (noBtn.style.position === 'absolute') {
      noBtn.style.position = '';
      noBtn.style.left = '';
      noBtn.style.top = '';
    }
  });
</script>
</body>
</html>
